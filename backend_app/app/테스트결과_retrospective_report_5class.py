retrospective_report_5class.py

================================================================================
============================== 회고 리포트 시스템 테스트 완료 ===============================
================================================================================

(base) (myenv) PS C:\Users\clair\backend_final\backend> python app/test_retrospective_report.py
환경 변수 로드 완료

================================================================================
============================== 회고 리포트 시스템 테스트 시작 ===============================
================================================================================

테스트 사용자 ID: ica.2team.p2@gmail.com
테스트 시작 시간: 2025-03-09 21:41:23

=== 데이터 로딩 테스트 ===
전체 일정 수: 42, 지난 주 일정 수: 7
일정 데이터 로딩: 7개 일정 로드됨
샘플 일정: 모닝 러닝 3km
일정 시작 시간: 2025-02-26T06:30:00+09:00
대화 기록 로딩: 6개 대화 로드됨
사용자 성향 데이터 로딩: 성공

=== 사용자 성향 데이터 ===
MBTI: N/A
연령대: N/A
성별: N/A

감정 분석: 평균 감정 점수 4.14
활동 패턴 분석: 1개 활동 유형 분석됨
✅ 데이터 로딩 테스트 통과

=== 벡터 RAG 테스트 ===
벡터 데이터 준비 중...
전체 일정 수: 42, 지난 주 일정 수: 7
FAISS 인덱스 생성 완료: 13개 문서
검색 쿼리: '지난 주 가장 기억에 남는 일정은?'
검색 결과: 3개 결과 반환됨

검색 결과 샘플:
1. 사용자 메시지: 퇴사 축하 겸 제니 만남. 마음 편하게 진솔한 이야기를 나눌 수 있는 친구가 있어서 감사하다. 그치만 이번주 일정이 너무 많아서 힘들었다. 나를 위한 휴식이 필요 하...
2. 사용자 메시지: 주간 계획을 점검하고 다음 목표를 명확히 하니 안정감을 느낀다. 개인적 회고 습관을 유지하자.
이벤트: 다음주 목표 설정 & 주간 회고
...
✅ 벡터 RAG 테스트 통과

=== 그래프 RAG 테스트 ===
그래프 구축 전: 0개 노드, 0개 엣지
그래프 데이터 준비 중...
전체 일정 수: 42, 지난 주 일정 수: 7
지식 그래프 구축 완료: 노드 109 개, 엣지 120 개
그래프 구축 후: 109개 노드, 120개 엣지
노드 유형별 개수:
- user: 1개
- event: 7개
- keyword: 91개
- emotion: 4개
- chat: 6개
검색 쿼리: '긍정적인 감정을 느꼈던 일정은?'
쿼리 그래프 시작: '긍정적인 감정을 느꼈던 일정은?'
추출된 키워드: ['긍정적인', '감정을', '느꼈던', '일정은?']
그래프 내 키워드 노드 수: 91
그래프 내 키워드 노드 샘플: [('keyword_모닝', '모닝'), ('keyword_러닝', '러닝'), ('keyword_3km', '3km'), ('keyword_개인', '개인'), ('keyword_ML', 'ML')]
직접 일치하는 키워드 없음, 부분 일치 시도
찾은 관련 키워드 노드 수: 0
관련 이벤트 없음, 모든 이벤트 중 검색
어떤 방법으로도 관련 이벤트를 찾지 못했습니다. 최근 이벤트 반환.
최근 이벤트 5개 반환
총 5개 이벤트 결과 반환
검색 결과: 5개 결과 반환됨

검색 결과 샘플:
1. 일정: 개인 블로그 글쓰기
   감정 점수: 5
2. 일정: 한강 러닝 7km
   감정 점수: 5
✅ 그래프 RAG 테스트 통과

=== 하이브리드 RAG 데이터 분석 테스트 ===
하이브리드 데이터 준비 중...

=== 벡터 RAG 데이터 준비 중... ===

전체 일정 수: 42, 지난 주 일정 수: 7
FAISS 인덱스 생성 완료: 13개 문서

=== 그래프 RAG 데이터 준비 중... ===

전체 일정 수: 42, 지난 주 일정 수: 7
지식 그래프 구축 완료: 노드 109 개, 엣지 120 개
데이터 준비 완료! (소요 시간: 3.44초)

하이브리드 RAG 데이터 가져오는 중...

=== 벡터 RAG 데이터 가져오는 중... ===

전체 일정 수: 42, 지난 주 일정 수: 7

=== 그래프 RAG 데이터 가져오는 중... ===

전체 일정 수: 42, 지난 주 일정 수: 7
데이터 분석 완료! (소요 시간: 0.01초)

=== 하이브리드 RAG 데이터 분석 결과 요약 ===
- 일정 데이터: 7개
- 평균 감정 점수: 4.14/5
- 감정 점수 분포: {5: 4, 4: 1, 2: 1, 3: 1}
- 활동 유형: 1개 유형
- 노드 수: 109개
- 엣지 수: 120개
- 통합 데이터 포인트: 7개

LLM1을 사용한 데이터 분석 중...
LLM 데이터 분석 완료! (소요 시간: 10.05초)

=== LLM 하이브리드 RAG 데이터 분석 결과 미리보기 ===
주간 활동 및 감정 분석:
이 사용자는 주로 러닝과 개인 활동에 시간을 할애하며, 특히 아침에 활발한 활동을 선호합니다. 주요 감정은 매우 좋음으로, 모닝 러닝 3km와 같은 활동에서 가장 긍정적인 감정을 느끼는 것으로 나타났습니다. 반면 AI 독서모임에 서는 부정적인 감정을 경험했습니다. 사용자의 메시지에서는 개인적인 관심사와 건강에 대한 열정이 엿보이며, 이를 통해 사용자의 성향과 가치관을 파악할 수 있습니다.

감정 및 심리 상태 분석:
주요 활동인 러닝과 개인 활동에서 긍정적인 감정을 느끼는 반면, 다른 활동에서는 부정적인 감...
✅ 하이브리드 RAG 데이터 분석 테스트 통과

=== 사용자 성향 반영 테스트 ===

LLM 리포트 생성기 초기화 중...

=== 사용자 성향 데이터 ===
MBTI: N/A
연령대: N/A
성별: N/A
성향 프롬프트 미리보기: ## 1단계: 키워드 중심 페르소나 요약

- **이름**: 미상
- **성별**: 여성
- **연령대**: 30대
- **MBTI 유형**: INTJ
- **직업 (사회적 역할)**: 직장인, 개인 프로젝트 진행자, 블로거
- **관심 분야**: 머신러닝, 글쓰기, 러닝, 자기계발, 개인 브랜딩
- **성격 특징**: 계획적, 독립적, 자기주도적, 내향적...
하이브리드 RAG 데이터 분석 중...
구조화된 리포트 생성 중...
사용자 성향 반영 중...

=== 사용자 성향 반영 여부 확인 ===
✓ 구조화된 리포트와 최종 리포트가 다름 (성향 반영 확인됨)
- 구조화된 리포트: 283개 단어
- 최종 리포트: 322개 단어
- 단어 수 차이: 39개 (13.8%)

성향 프롬프트에 있는 키워드가 최종 리포트에 반영되었는지 확인:
  ✓ 키워드 '자기주도적' 반영됨
  ✗ 키워드 '인지한다' 미반영
  ✗ 키워드 '페르소나' 미반영
  ✗ 키워드 '머신러닝과' 미반영
  ✓ 키워드 '자기계발' 반영됨
  ✗ 키워드 '특이사항' 미반영
  ✓ 키워드 '혼자만의' 반영됨
  ✗ 키워드 '안정감과' 미반영
  ✗ 키워드 '추구하며' 미반영
  ✗ 키워드 '일상에서' 미반영

성향 키워드 반영률: 30.0% (3/10)
✅ 사용자 성향 반영 테스트 통과

=== 회고 리포트 생성 테스트 ===
하이브리드 RAG 시스템 초기화 중...
데이터 준비 중...

=== 벡터 RAG 데이터 준비 중... ===

전체 일정 수: 42, 지난 주 일정 수: 7
FAISS 인덱스 생성 완료: 13개 문서

=== 그래프 RAG 데이터 준비 중... ===

전체 일정 수: 42, 지난 주 일정 수: 7
지식 그래프 구축 완료: 노드 109 개, 엣지 120 개
하이브리드 데이터 가져오는 중...

=== 벡터 RAG 데이터 가져오는 중... ===

전체 일정 수: 42, 지난 주 일정 수: 7

=== 그래프 RAG 데이터 가져오는 중... ===

전체 일정 수: 42, 지난 주 일정 수: 7
LLM 리포트 생성기 초기화 중...
회고 리포트 생성 중...

=== 하이브리드 RAG 데이터 분석 진행 중... ===


=== 데이터 분석 완료 ===


=== 구조화된 리포트 생성 중... ===


=== 구조화된 리포트 생성 완료 ===


=== 사용자 성향 반영 리포트 생성 중... ===


=== 사용자 성향 반영 리포트 생성 완료 ===

리포트 저장 완료: data\faiss\ica.2team.p2@gmail.com\reports\hybrid_report_20250309_214511.json
회고 리포트 생성 완료! (소요 시간: 102.13초)

총 332개 단어의 회고 리포트가 생성되었습니다.

=== 전체 리포트 내용 ===
============================================================================================

## 지난 주를 돌아보며
지난주는 아침 러닝과 개인 프로젝트 덕분에 내면의 활력을 충분히 충전한 한 주였어요. 다만 AI 독서모임에서는 예상보다 감정적으로 소모되는 순간이 있었습니다. 전반적으로 혼자만의 시간을 잘 활용하며 의미 있는 성장을 이뤄낸 주였다고 느껴져요.

## 주간 활동과 감정 들여다보기

### 지난 주 의미 있었던 순간들
아침 3km 러닝과 주말 한강 7km 러닝은 스스로에게 큰 만족감을 준 활동이었어요. "아침 러닝으로 하루를 시작하는 것이 내게 큰 힘이 된다"는 생각에서 알 수 있듯이, 아침의 자기주도적인 활동은 내적 안정과 하루의 에너지 레벨에 중요한 역할을 하고 있음을 다시금 확인했습니다. 반면 AI 독서모임에서는 감정적 에너지가 빠르게 소진되는 경험을 했는데, 이는 내향적인 성향과 기대했던 방향과의 차이 때문일 가능성이 높아요.

### 나의 패턴 발견하기
이번 주를 돌아보니, 하루의 시작을 개인적이고 자기주도적인 활동으로 채우는 것이 전체적인 만족감과 생산성을 높이는 핵심 패턴이라는 것을 다시 한번 느낄 수 있었어요. 혼자 몰입하여 진행하는 ML 프로젝트와 블로그 글쓰기를  통해 성취감과 내면의 안정감을 크게 느끼는 경향이 있어요. 반면, 사회적 활동이나 많은 사람들과의 상호작용은 일정 수준을 넘어가면 오히려 피로감을 주는 것으로 보이네요. 앞으로도 나만의 리듬과 공간을 유지하는 것이 중요할 것 같아요.

## 나를 위한 맞춤 조언
앞으로는 감정적으로 부담이 되는 사회적 일정은 가능한 최소화하고, 대신 아침 러닝과 개인 프로젝트 같은 혼자만의 시간을 더욱 의식적으로 확보하는 것이 좋아요. 사회적 활동이 꼭 필요하다면 그 전후에 충분한 개인적 휴식과 에너지 충전 시간을 미리 계획해 두세요. 또한, 어려운 일정이나 부담되는 모임 이후에는 자신에게 충분한 개인적 보상으로 회복의 시간을 제공하는 것도 잊지 마세요.

## 다가올 한 달을 위한 액션 플랜
한 달 내에 개인 ML 프로젝트의 첫 번째 결과물을 구체적으로 완성해보는 목표를 세워보세요. 주 3회 이상의 아침 러닝을 지속하며 일주일에 최소 3시간 이상 개인 프로젝트에 집중할 수 있는 시간을 미리 확보해 놓으세요. 또한 블 로그에 주 1회 이상 글을 꾸준히 작성하여 개인 브랜딩과 성취감을 지속적으로 높여가는 것도 중요합니다.

## 이번 주 나에게 보내는 메시지
"매일 아침 우리는 다시 태어난다. 오늘 우리가 하는 일이 가장 중요하다." - 부처

매일 아침 스스로의 리듬으로 시작하는 당신의 작은 습관들이 모여, 결국 원하는 삶의 방향으로 이끌어 줄 거예요. 이번 주도 스스로의 속도와 계획을 믿고, 의미 있는 하루하루를 차근차근 쌓아가세요. 언제나 스스로의 가장 든든한 응원자가 되어주세요.

============================================================================================
=== 리포트 내용 종료 ===


리포트 섹션 확인:
- '지난 주를 돌아보며' 섹션: 있음 ✓
- '주간 활동과 감정 들여다보기' 섹션: 있음 ✓
- '나를 위한 맞춤 조언' 섹션: 있음 ✓
- '다가올 한 달을 위한 액션 플랜' 섹션: 있음 ✓
- '이번 주 나에게 보내는 메시지' 섹션: 있음 ✓
테스트 결과 저장됨: test_results\test_report_20250309_214511.json
✅ 회고 리포트 생성 테스트 통과

================================================================================
================================== 테스트 결과 요약 ===================================
================================================================================
총 테스트: 6개
통과: 6개
실패: 0개
성공률: 100.00%

개별 테스트 결과:
- data_loading: ✅ 통과
- vector_rag: ✅ 통과
- graph_rag: ✅ 통과
- hybrid_rag_analysis: ✅ 통과
- user_tendency_reflection: ✅ 통과
- report_generation: ✅ 통과

================================================================================
============================== 회고 리포트 시스템 테스트 완료 ===============================
================================================================================